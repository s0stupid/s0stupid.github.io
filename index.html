<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>SYSTEM</title>

<style>
body{
    margin:0;
    background:black;
    overflow:hidden;
    font-family:monospace;
    color:white;
}

#noise{
    position:fixed;
    width:100%;
    height:100%;
    opacity:0.04;
    pointer-events:none;
    background:url("https://grainy-gradients.vercel.app/noise.svg");
}

#output{
    position:absolute;
    top:50%;
    left:50%;
    transform:translate(-50%, -50%);
    width:70%;
    line-height:1.6;
    font-size:18px;
}

#inputLine{
    display:flex;
    align-items:center;
    margin-top:15px;
}

#prompt{
    margin-right:10px;
}

#answer{
    background:transparent;
    border:none;
    outline:none;
    color:white;
    font-family:monospace;
    font-size:18px;
    width:300px;
}

#error{
    color:red;
    margin-top:10px;
    opacity:0;
}

.flicker{
    animation:flicker 6s infinite;
}

@keyframes flicker{
    0%{opacity:1;}
    97%{opacity:1;}
    98%{opacity:0.6;}
    99%{opacity:1;}
}

.glitch{
    animation:glitch 0.2s;
}

@keyframes glitch{
    0%{transform:translate(-50%, -50%) translateX(0);}
    25%{transform:translate(-50%, -50%) translateX(-5px);}
    50%{transform:translate(-50%, -50%) translateX(5px);}
    75%{transform:translate(-50%, -50%) translateX(-3px);}
    100%{transform:translate(-50%, -50%) translateX(0);}
}

.particle{
    position:absolute;
    width:2px;
    height:2px;
    background:white;
    opacity:0.2;
    animation:float linear infinite;
}

@keyframes float{
    from{transform:translateY(100vh);}
    to{transform:translateY(-10vh);}
}
</style>
</head>
<body>

<div id="noise"></div>

<div id="output" class="flicker">

<div id="text"></div>

<div id="inputLine">
<span id="prompt">></span>
<input id="answer" autocomplete="off">
</div>

<div id="error">ACCESS DENIED</div>

</div>

<script>

const password = "0221"; 
// 시발 깃허브라 안숨겨짐!!!!!!!!!!!!!!
const text = document.getElementById("text");
const answer = document.getElementById("answer");
const error = document.getElementById("error");
const output = document.getElementById("output");

function typeLine(content, delay=30){
    return new Promise(resolve=>{
        const line = document.createElement("div");
        text.appendChild(line);

        let i=0;
        const interval=setInterval(()=>{
            line.innerHTML += content[i] || "";
            i++;
            if(i>content.length){
                clearInterval(interval);
                resolve();
            }
        },delay);
    });
}

function glitch(){
    output.classList.add("glitch");
    setTimeout(()=>{
        output.classList.remove("glitch");
    },200);
}

async function start(){
    await typeLine("SYSTEM ONLINE...");
    await typeLine("LOCKED ARCHIVE DETECTED.");
    await typeLine("");
    await typeLine("ENTER PASSWORD");
    answer.focus();
}

answer.addEventListener("keydown", async function(e){

    if(e.key !== "Enter") return;

    const value = answer.value.trim();

    await typeLine("> " + value);

    answer.value = "";

    if(value === password){

        await typeLine("PASSWORD VERIFIED");
        await typeLine("ACCESS GRANTED");

        setTimeout(()=>{
            window.location.href = "main.html";
        },1000);

    }else{

        error.style.opacity="1";
        glitch();

        setTimeout(()=>{
            error.style.opacity="0";
        },1000);

    }

});

function createParticle(){
    const p=document.createElement("div");
    p.className="particle";
    p.style.left=Math.random()*100+"vw";
    p.style.animationDuration=(5+Math.random()*10)+"s";
    document.body.appendChild(p);
    setTimeout(()=>p.remove(),15000);
}

setInterval(createParticle,300);

start();

</script>

</body>
</html>
