<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>ACCESS GATE</title>

<style>
body{
    background:black;
    color:white;
    font-family:monospace;
    font-size:18px;
    padding:40px;
}

#output{
    white-space:pre-line;
    margin-bottom:20px;
}

input{
    background:black;
    color:white;
    border:1px solid white;
    padding:5px;
    font-family:monospace;
}

#error{
    color:red;
    margin-top:10px;
}
</style>

</head>
<body>

<div id="output"></div>

<input id="answer" type="text" autocomplete="off" style="display:none;">
<div id="error"></div>

<script>

const introLines = [
"INITIALIZING SYSTEM...",
"USER DETECTED.",
"IDENTITY VERIFICATION REQUIRED.",
"",
"QUESTION 1:",
"ENTER BIRTHDAY (4 DIGITS)"
];

const questions = [
"ENTER BIRTHDAY (4 DIGITS)",
"ENTER NAME"
];

// ðŸ”§ ì—¬ê¸° ìˆ˜ì •
const birthday = "0221"; // â† ë„¤ ìƒì¼ 4ìžë¦¬
const nameAnswer = "shin","stupid"; // â† ë„¤ ì´ë¦„

let questionIndex = 0;

const output = document.getElementById("output");
const input = document.getElementById("answer");
const error = document.getElementById("error");

function typeLine(text, callback){
    let i = 0;
    const interval = setInterval(()=>{
        output.innerHTML += text[i];
        i++;
        if(i >= text.length){
            clearInterval(interval);
            output.innerHTML += "\n";
            if(callback) callback();
        }
    }, 30);
}

function typeIntro(){
    let i = 0;
    function next(){
        if(i < introLines.length){
            typeLine(introLines[i], ()=>{
                i++;
                next();
            });
        }else{
            input.style.display = "inline";
            input.focus();
        }
    }
    next();
}

input.addEventListener("keydown", function(e){

    if(e.key === "Enter"){

        const value = input.value.trim();

        if(questionIndex === 0){

            if(value === birthday){

                error.innerHTML = "";
                output.innerHTML += "> " + value + "\n";

                questionIndex++;

                typeLine("");
                typeLine("QUESTION 2:");
                typeLine("ENTER NAME");

            }else{

                error.innerHTML = "ACCESS DENIED";

            }

        }else if(questionIndex === 1){

            if(value.toLowerCase() === nameAnswer.toLowerCase()){

                error.innerHTML = "";
                output.innerHTML += "> " + value + "\n";

                typeLine("");
                typeLine("ACCESS GRANTED", ()=>{
                    setTimeout(()=>{
                        window.location.href = "main.html";
                    }, 1000);
                });

            }else{

                error.innerHTML = "ACCESS DENIED";

            }

        }

        input.value = "";

    }

});

typeIntro();

</script>

</body>
</html>
